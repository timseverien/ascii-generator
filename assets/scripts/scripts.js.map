{"version":3,"sources":["scripts.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"module","_interopRequireDefault","obj","__esModule","default","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","value","_AsciiFactory","_AsciiFactory2","_CharacterSetFactory","_CharacterSetFactory2","_ImageFactory","_ImageFactory2","_CanvasService","_CanvasService2","App","options","_this","this","imageFile","undefined","inputFileElement","inputFilePreviewElement","inputCharacterSetElement","inputSizeElement","inputLineHeightElement","characterSetRangeElement","btnPreset","btnStartElement","outputElement","addInputEventListeners","setCharacterSetFromPreset","getPresets","ascii","addEventListener","isValid","generateAscii","then","innerHTML","escapeHtml","_this2","handleFile","file","parentNode","classList","remove","getImageFromFile","image","style","backgroundImage","src","add","err","files","stopPropagation","preventDefault","dataTransfer","_loop","charset","presets","LINE_HEIGHT","selectCharacterSet","characterSet","join","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","character","indexOf","push","getCharacterSet","canvas","context","getContext","lightnessRangeCount","maxLightnessCount","characterLightnessSet","normalizeCharacterLightness","getCharacterLightnessSet","FONT_SIZE","sort","b","lightness","forEach","lightnessString","Math","floor","toString","max","height","width","clearRect","strokeStyle","x","moveTo","lineTo","stroke","_this3","Promise","resolve","reject","getCanvasFromImage","imageData","getImageData","imageLightnessData","getImageLightnessData","data","normalizeLightness","window","worker","Worker","onmessage","postMessage","getAscii","console","error","emoji","latin","Array","concat","html","replace","isNaN","parseInt","parseFloat","./factories/AsciiFactory","./factories/CharacterSetFactory","./factories/ImageFactory","./services/CanvasService",2,"AsciiFactory","find","match","abs",3,"CharacterSetFactory","start","end","String","fromCodePoint",4,"ImageFactory","reader","FileReader","Image","result","readAsDataURL",5,"CanvasService","document","createElement","round","fillStyle","fillRect","drawImage","fontSize","fontStyle","fillText","getCanvasLightness","filter","lightnessData","forEachPixel","g","sum","previous","current","reduce","callback","pixelData","lightnessMin","Infinity","lightnessMax","min","map"],"mappings":"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","file":"scripts.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _AsciiFactory = require('./factories/AsciiFactory');\n\nvar _AsciiFactory2 = _interopRequireDefault(_AsciiFactory);\n\nvar _CharacterSetFactory = require('./factories/CharacterSetFactory');\n\nvar _CharacterSetFactory2 = _interopRequireDefault(_CharacterSetFactory);\n\nvar _ImageFactory = require('./factories/ImageFactory');\n\nvar _ImageFactory2 = _interopRequireDefault(_ImageFactory);\n\nvar _CanvasService = require('./services/CanvasService');\n\nvar _CanvasService2 = _interopRequireDefault(_CanvasService);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar App = (function () {\n    function App(options) {\n        var _this = this;\n\n        _classCallCheck(this, App);\n\n        this.imageFile = undefined;\n\n        this.inputFileElement = options.inputFileElement;\n        this.inputFilePreviewElement = options.inputFilePreviewElement;\n        this.inputCharacterSetElement = options.inputCharacterSetElement;\n        this.inputSizeElement = options.inputSizeElement;\n        this.inputLineHeightElement = options.inputLineHeightElement;\n        this.characterSetRangeElement = options.characterSetRangeElement;\n        this.btnPreset = options.btnPreset;\n        this.btnStartElement = options.btnStartElement;\n        this.outputElement = options.outputElement;\n\n        this.addInputEventListeners();\n        this.setCharacterSetFromPreset(this.getPresets().ascii);\n\n        this.btnStartElement.addEventListener('click', function () {\n            if (!_this.isValid()) return;\n\n            _this.generateAscii(_this.imageFile).then(function (ascii) {\n                _this.outputElement.innerHTML = _this.escapeHtml(ascii);\n            });\n        });\n    }\n\n    _createClass(App, [{\n        key: 'addInputEventListeners',\n        value: function addInputEventListeners() {\n            var _this2 = this;\n\n            var handleFile = function handleFile(file) {\n                _this2.inputFileElement.parentNode.classList.remove('form__control--error');\n\n                _ImageFactory2.default.getImageFromFile(file).then(function (image) {\n                    _this2.inputFilePreviewElement.style.backgroundImage = 'url(' + image.src + ')';\n                    _this2.inputFilePreviewElement.parentNode.classList.add('file-uploader--preview');\n                    _this2.imageFile = file;\n                }).catch(function (err) {\n                    _this2.imageFile = undefined;\n                });\n            };\n\n            this.inputFileElement.addEventListener('change', function () {\n                if (!_this2.inputFileElement.files.length) return;\n                handleFile(_this2.inputFileElement.files[0]);\n            });\n\n            // Enable dropping files\n            this.inputFileElement.parentNode.addEventListener('dragover', function (e) {\n                e.stopPropagation();\n                e.preventDefault();\n                _this2.inputFileElement.parentNode.classList.add('file-uploader--highlight');\n            });\n            this.inputFileElement.parentNode.addEventListener('dragleave', function (e) {\n                e.stopPropagation();\n                e.preventDefault();\n                _this2.inputFileElement.parentNode.classList.remove('file-uploader--highlight');\n            });\n            this.inputFileElement.parentNode.addEventListener('drop', function (e) {\n                e.stopPropagation();\n                e.preventDefault();\n                handleFile(e.dataTransfer.files[0]);\n                _this2.inputFileElement.parentNode.classList.remove('file-uploader--highlight');\n            });\n\n            this.inputCharacterSetElement.addEventListener('change', function () {\n                _this2.inputCharacterSetElement.classList.remove('form__control--error');\n            });\n\n            this.inputCharacterSetElement.addEventListener('change', function () {\n                _this2.inputCharacterSetElement.classList.remove('form__control--error');\n            });\n\n            var _loop = function _loop(charset) {\n                _this2.btnPreset[charset].addEventListener('click', function () {\n                    var presets = _this2.getPresets();\n                    _this2.setCharacterSetFromPreset(presets[charset]);\n                    _this2.inputLineHeightElement.value = App.LINE_HEIGHT[charset];\n                });\n            };\n\n            for (var charset in this.btnPreset) {\n                _loop(charset);\n            }\n\n            this.inputCharacterSetElement.addEventListener('change', function () {\n                return _this2.selectCharacterSet();\n            });\n            this.inputCharacterSetElement.addEventListener('keyup', function () {\n                return _this2.selectCharacterSet();\n            });\n        }\n    }, {\n        key: 'setCharacterSetFromPreset',\n        value: function setCharacterSetFromPreset(characterSet) {\n            this.inputCharacterSetElement.value = characterSet.join('');\n            this.selectCharacterSet();\n        }\n    }, {\n        key: 'getCharacterSet',\n        value: function getCharacterSet() {\n            var characterSet = [];\n\n            var _iteratorNormalCompletion = true;\n            var _didIteratorError = false;\n            var _iteratorError = undefined;\n\n            try {\n                for (var _iterator = this.inputCharacterSetElement.value[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                    var character = _step.value;\n\n                    if (characterSet.indexOf(character) >= 0) continue;\n                    characterSet.push(character);\n                }\n            } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion && _iterator.return) {\n                        _iterator.return();\n                    }\n                } finally {\n                    if (_didIteratorError) {\n                        throw _iteratorError;\n                    }\n                }\n            }\n\n            return characterSet;\n        }\n    }, {\n        key: 'selectCharacterSet',\n        value: function selectCharacterSet() {\n            var characterSet = this.getCharacterSet(),\n                canvas = this.characterSetRangeElement,\n                context = canvas.getContext('2d'),\n                lightnessRangeCount = {};\n            var maxLightnessCount = 0;\n\n            this.characterLightnessSet = _CanvasService2.default.normalizeCharacterLightness(_CanvasService2.default.getCharacterLightnessSet(characterSet, App.FONT_SIZE));\n            this.characterLightnessSet = this.characterLightnessSet.sort(function (a, b) {\n                return b.lightness - a.lightness;\n            });\n\n            this.characterLightnessSet.forEach(function (character) {\n                var lightnessString = Math.floor(character.lightness * characterSet.length).toString();\n\n                if (!lightnessRangeCount[lightnessString]) {\n                    lightnessRangeCount[lightnessString] = 0;\n                }\n\n                lightnessRangeCount[lightnessString]++;\n                maxLightnessCount = Math.max(lightnessRangeCount[lightnessString], maxLightnessCount);\n            });\n\n            canvas.height = 25;\n            canvas.width = characterSet.length;\n\n            context.clearRect(0, 0, canvas.width, canvas.height);\n            context.strokeStyle = 'rgba(0, 0, 0, .5)';\n\n            for (var x in lightnessRangeCount) {\n                context.moveTo(x, canvas.height);\n                context.lineTo(x, canvas.height - lightnessRangeCount[x] / maxLightnessCount * canvas.height);\n            }\n\n            context.stroke();\n        }\n    }, {\n        key: 'generateAscii',\n        value: function generateAscii(file) {\n            var _this3 = this;\n\n            return new Promise(function (resolve, reject) {\n                _ImageFactory2.default.getImageFromFile(file).then(function (image) {\n                    var width = _this3.inputSizeElement.value,\n                        height = width / image.width * image.height / _this3.inputLineHeightElement.value,\n                        canvas = _CanvasService2.default.getCanvasFromImage(image, width, height),\n                        context = canvas.getContext('2d'),\n                        imageData = context.getImageData(0, 0, canvas.width, canvas.height),\n                        imageLightnessData = _CanvasService2.default.getImageLightnessData(imageData);\n\n                    imageLightnessData.data = _CanvasService2.default.normalizeLightness(imageLightnessData.data);\n\n                    if ('Worker' in window) {\n                        var worker = new Worker('assets/scripts/ascii-factory.js');\n                        worker.onmessage = function (e) {\n                            return resolve(e.data);\n                        };\n                        worker.postMessage({\n                            characterLightnessSet: _this3.characterLightnessSet,\n                            imageLightnessData: imageLightnessData\n                        });\n                    } else {\n                        resolve(_AsciiFactory2.default.getAscii(_this3.characterLightnessSet, imageLightnessData));\n                    }\n                }).catch(function (e) {\n                    console.error(e);\n                });\n            });\n        }\n    }, {\n        key: 'getPresets',\n        value: function getPresets() {\n            return {\n                ascii: _CharacterSetFactory2.default.getCharacterSet(0x20, 0x7E),\n\n                // TODO: Add more emoji\n                // Source: https://en.wikipedia.org/wiki/Emoji#In_the_Unicode_standard\n                emoji: _CharacterSetFactory2.default.getCharacterSet(0x1F600, 0x1F64F),\n                latin: Array.prototype.concat(_CharacterSetFactory2.default.getCharacterSet(0x20, 0x7E), _CharacterSetFactory2.default.getCharacterSet(0xA1, 0x17F))\n            };\n        }\n    }, {\n        key: 'escapeHtml',\n        value: function escapeHtml(html) {\n            return html.replace(/&/g, '&amp;').replace(/\"/g, '&quot;').replace(/'/g, '&#39;').replace(/</g, '&lt;').replace(/>/g, '&gt;');\n        }\n    }, {\n        key: 'isValid',\n        value: function isValid() {\n            var isValid = true;\n\n            if (!this.imageFile) {\n                this.inputFileElement.parentNode.classList.add('form__control--error');\n                isValid = false;\n            }\n\n            if (!this.inputCharacterSetElement.value) {\n                this.inputCharacterSetElement.classList.add('form__control--error');\n                isValid = false;\n            }\n\n            if (isNaN(parseInt(this.inputSizeElement.value)) || this.inputSizeElement.value < 2) {\n                this.inputSizeElement.classList.add('form__control--error');\n                isValid = false;\n            }\n\n            if (isNaN(parseFloat(this.inputLineHeightElement.value))) {\n                this.inputLineHeightElement.classList.add('form__control--error');\n                isValid = false;\n            }\n\n            return isValid;\n        }\n    }]);\n\n    return App;\n})();\n\nexports.default = App;\n\nApp.FONT_SIZE = 12;\nApp.LINE_HEIGHT = {\n    ascii: 1.8,\n    latin: 1.8,\n    emoji: 1.2\n};\n\nwindow.App = App;\n\n},{\"./factories/AsciiFactory\":2,\"./factories/CharacterSetFactory\":3,\"./factories/ImageFactory\":4,\"./services/CanvasService\":5}],2:[function(require,module,exports){\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar AsciiFactory = (function () {\n    function AsciiFactory() {\n        _classCallCheck(this, AsciiFactory);\n    }\n\n    _createClass(AsciiFactory, null, [{\n        key: 'getAscii',\n        value: function getAscii(characterLightnessSet, imageLightnessData) {\n            var ascii = '',\n                find = function find(lightness) {\n                var match = undefined;\n\n                characterLightnessSet.forEach(function (character) {\n                    if (match && Math.abs(lightness - character.lightness) >= Math.abs(lightness - match.lightness)) return;\n\n                    match = character;\n                });\n\n                return match.character;\n            };\n\n            imageLightnessData.data.forEach(function (lightness, i) {\n                if (i > 0 && i % imageLightnessData.width === 0) {\n                    ascii += '\\r\\n';\n                }\n\n                ascii += find(lightness);\n            });\n\n            return ascii;\n        }\n    }]);\n\n    return AsciiFactory;\n})();\n\nexports.default = AsciiFactory;\n\n},{}],3:[function(require,module,exports){\n\"use strict\";\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar CharacterSetFactory = (function () {\n    function CharacterSetFactory() {\n        _classCallCheck(this, CharacterSetFactory);\n    }\n\n    _createClass(CharacterSetFactory, null, [{\n        key: \"getCharacterSet\",\n        value: function getCharacterSet(start, end) {\n            var characterSet = [];\n\n            for (var i = start; i <= end; i++) {\n                characterSet.push(String.fromCodePoint(i));\n            }\n\n            return characterSet;\n        }\n    }]);\n\n    return CharacterSetFactory;\n})();\n\nexports.default = CharacterSetFactory;\n\n},{}],4:[function(require,module,exports){\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar ImageFactory = (function () {\n    function ImageFactory() {\n        _classCallCheck(this, ImageFactory);\n    }\n\n    _createClass(ImageFactory, null, [{\n        key: 'getImageFromFile',\n        value: function getImageFromFile(file) {\n            var reader = new FileReader(),\n                image = new Image();\n\n            return new Promise(function (resolve, reject) {\n                reader.addEventListener('load', function () {\n                    image.src = reader.result;\n                });\n\n                image.addEventListener('load', function () {\n                    resolve(image);\n                });\n\n                reader.addEventListener('error', reject);\n                image.addEventListener('error', reject);\n                reader.readAsDataURL(file);\n            });\n        }\n    }]);\n\n    return ImageFactory;\n})();\n\nexports.default = ImageFactory;\n\n},{}],5:[function(require,module,exports){\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar CanvasService = (function () {\n    function CanvasService() {\n        _classCallCheck(this, CanvasService);\n    }\n\n    _createClass(CanvasService, null, [{\n        key: 'getCanvasFromImage',\n        value: function getCanvasFromImage(image, width, height) {\n            var canvas = document.createElement('canvas'),\n                context = canvas.getContext('2d');\n\n            canvas.height = Math.round(height);\n            canvas.width = Math.round(width);\n\n            context.fillStyle = '#fff';\n            context.fillRect(0, 0, canvas.width, canvas.height);\n            context.drawImage(image, 0, 0, canvas.width, canvas.height);\n\n            return canvas;\n        }\n    }, {\n        key: 'getCharacterLightnessSet',\n        value: function getCharacterLightnessSet(characterSet, fontSize) {\n            var canvas = document.createElement('canvas'),\n                context = canvas.getContext('2d'),\n                characterLightnessSet = [];\n\n            canvas.height = fontSize;\n            canvas.width = fontSize;\n\n            context.fontStyle = fontSize + 'px monospace';\n\n            characterSet.forEach(function (character) {\n                context.fillStyle = '#fff';\n                context.fillRect(0, 0, canvas.width, canvas.height);\n\n                context.fillStyle = '#000';\n                context.fillText(character, 0, canvas.height);\n\n                var imageData = context.getImageData(0, 0, canvas.width, canvas.height);\n                characterLightnessSet.push({\n                    character: character,\n                    lightness: CanvasService.getCanvasLightness(imageData)\n                });\n            });\n\n            return characterLightnessSet.filter(function (character) {\n                return character.lightness > 0 || character.character === 0x20;\n            });\n        }\n    }, {\n        key: 'getImageLightnessData',\n        value: function getImageLightnessData(imageData) {\n            var lightnessData = [];\n\n            CanvasService.forEachPixel(imageData, function (r, g, b, a) {\n                lightnessData.push((r + g + b) / 3);\n            });\n\n            return {\n                data: lightnessData,\n                height: imageData.height,\n                width: imageData.width\n            };\n        }\n    }, {\n        key: 'getCanvasLightness',\n        value: function getCanvasLightness(imageData) {\n            var imageLightnessData = CanvasService.getImageLightnessData(imageData),\n                sum = function sum(previous, current) {\n                return previous + current;\n            };\n\n            return imageLightnessData.data.reduce(sum, 0) / imageLightnessData.data.length;\n        }\n    }, {\n        key: 'forEachPixel',\n        value: function forEachPixel(imageData, callback) {\n            var pixelData = imageData.data;\n\n            for (var i = 0; i < pixelData.length; i += 4) {\n                callback(pixelData[i], pixelData[i + 1], pixelData[i + 2], pixelData[i + 3], i);\n            }\n        }\n    }, {\n        key: 'normalizeCharacterLightness',\n        value: function normalizeCharacterLightness(lightnessData) {\n            var lightnessMin = Infinity,\n                lightnessMax = -Infinity;\n\n            lightnessData.forEach(function (obj) {\n                lightnessMin = Math.min(obj.lightness, lightnessMin);\n                lightnessMax = Math.max(obj.lightness, lightnessMax);\n            });\n\n            return lightnessData.map(function (obj) {\n                obj.lightness = (obj.lightness - lightnessMin) / (lightnessMax - lightnessMin);\n                return obj;\n            });\n        }\n    }, {\n        key: 'normalizeLightness',\n        value: function normalizeLightness(lightnessData) {\n            var lightnessMin = Infinity,\n                lightnessMax = -Infinity;\n\n            lightnessData.forEach(function (lightness) {\n                lightnessMin = Math.min(lightness, lightnessMin);\n                lightnessMax = Math.max(lightness, lightnessMax);\n            });\n\n            return lightnessData.map(function (lightness) {\n                return (lightness - lightnessMin) / (lightnessMax - lightnessMin);\n            });\n        }\n    }]);\n\n    return CanvasService;\n})();\n\nexports.default = CanvasService;\n\n},{}]},{},[1]);\n"],"sourceRoot":"/source/"}